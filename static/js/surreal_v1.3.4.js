let surreal=function(){let e={$:this,plugins:[],sugar:s=>e.isNode(s)||e.isNodeList(s)?(e.isNodeList(s)&&s.forEach((s=>{e.sugar(s)})),s.hasOwnProperty("hasSurreal")||(s.run=t=>e.run(s,t),s.remove=()=>e.remove(s),s.classAdd=t=>e.classAdd(s,t),s.class_add=s.add_class=s.addClass=s.classAdd,s.classRemove=t=>e.classRemove(s,t),s.class_remove=s.remove_class=s.removeClass=s.classRemove,s.classToggle=(t,o)=>e.classToggle(s,t,o),s.class_toggle=s.toggle_class=s.toggleClass=s.classToggle,s.styles=t=>e.styles(s,t),s.on=(t,o)=>e.on(s,t,o),s.off=(t,o)=>e.off(s,t,o),s.offAll=t=>e.offAll(s,t),s.off_all=s.offAll,s.disable=()=>e.disable(s),s.enable=()=>e.enable(s),s.send=(t,o)=>e.send(s,t,o),s.trigger=s.send,s.halt=(s,t,o)=>e.halt(s,t,o),s.attribute=(t,o)=>e.attribute(s,t,o),s.attributes=s.attr=s.attribute,e.plugins.forEach((function(e){e(s)})),s.hasSurreal=1),s):(console.warn(`Surreal: Not a supported element / node / node list "${s}"`),s),me:(s=null,t=document,o=!0)=>null==s?e.sugar(t.currentScript.parentElement):s instanceof Event?s.currentTarget?e.me(s.currentTarget):(console.warn("Surreal: Event currentTarget is null. Please save your element because async will lose it"),null):"-"===s||"prev"===s||"previous"===s?e.sugar(t.currentScript.previousElementSibling):e.isSelector(s,t,o)?e.sugar(t.querySelector(s)):e.isNodeList(s)?e.me(s[0]):e.isNode(s)?e.sugar(s):null,any:(s,t=document,o=!0)=>null==s?e.sugar([t.currentScript.parentElement]):s instanceof Event?s.currentTarget?e.any(s.currentTarget):(console.warn("Surreal: Event currentTarget is null. Please save your element because async will lose it"),null):"-"===s||"prev"===s||"previous"===s?e.sugar([t.currentScript.previousElementSibling]):e.isSelector(s,t,o)?e.sugar(Array.from(t.querySelectorAll(s))):e.isNode(s)?e.sugar([s]):e.isNodeList(s)?e.sugar(Array.from(s)):e.sugar([]),run:(s,t)=>"function"!=typeof t?(console.warn("Surreal: run(f) f must be a function"),s):(e.isNodeList(s)&&s.forEach((s=>{e.run(s,t)})),e.isNode(s)&&t(s),s),remove(s){e.isNodeList(s)&&s.forEach((s=>{e.remove(s)})),e.isNode(s)&&s.parentNode.removeChild(s)},classAdd:(s,t)=>("string"!=typeof t||("."===t.charAt(0)&&(t=t.substring(1)),e.isNodeList(s)&&s.forEach((s=>{e.classAdd(s,t)})),e.isNode(s)&&s.classList.add(t)),s),classRemove:(s,t)=>("string"!=typeof t||("."===t.charAt(0)&&(t=t.substring(1)),e.isNodeList(s)&&s.forEach((s=>{e.classRemove(s,t)})),e.isNode(s)&&s.classList.remove(t)),s),classToggle:(s,t,o)=>("string"!=typeof t||("."===t.charAt(0)&&(t=t.substring(1)),e.isNodeList(s)&&s.forEach((s=>{e.classToggle(s,t,o)})),e.isNode(s)&&s.classList.toggle(t,o)),s),styles:(s,t)=>"string"==typeof t?(e.isNodeList(s)&&s.forEach((s=>{e.styles(s,t)})),e.isNode(s)&&e.attribute(s,"style",(null==e.attribute(s,"style")?"":e.attribute(s,"style")+"; ")+t),s):"object"==typeof t?(e.isNodeList(s)&&s.forEach((s=>{e.styles(s,t)})),e.isNode(s)&&Object.assign(s.style,t),s):s,on:(s,t,o)=>(e.isNodeList(s)&&s.forEach((s=>{e.on(s,t,o)})),e.isNode(s)&&s.addEventListener(t,o),s),off:(s,t,o)=>(e.isNodeList(s)&&s.forEach((s=>{e.off(s,t,o)})),e.isNode(s)&&s.removeEventListener(t,o),s),offAll:s=>(e.isNodeList(s)&&s.forEach((s=>{e.offAll(s)})),e.isNode(s)&&s.parentNode.replaceChild(s.cloneNode(!0),s),s),disable:s=>(e.isNodeList(s)&&s.forEach((s=>{e.disable(s)})),e.isNode(s)&&(s.disabled=!0),s),enable:s=>(e.isNodeList(s)&&s.forEach((s=>{e.enable(s)})),e.isNode(s)&&(s.disabled=!1),s),send(s,t,o=null){if(e.isNodeList(s)&&s.forEach((s=>{e.send(s,t,o)})),e.isNode(s)){const e=new CustomEvent(t,{detail:o,bubbles:!0});s.dispatchEvent(e)}return s},halt:(e,s=!1,t=!1)=>(e instanceof Event&&(t||e.preventDefault(),s||e.stopPropagation()),e),attribute:(s,t,o=void 0)=>"string"==typeof t&&void 0===o?e.isNodeList(s)?[]:e.isNode(s)?s.getAttribute(t):null:"string"==typeof t&&null===o?(e.isNodeList(s)&&s.forEach((s=>{e.attribute(s,t,o)})),e.isNode(s)&&s.removeAttribute(t),s):"string"==typeof t?(e.isNodeList(s)&&s.forEach((s=>{e.attribute(s,t,o)})),e.isNode(s)&&s.setAttribute(t,o),s):"object"==typeof t?(e.isNodeList(s)&&s.forEach((s=>{Object.entries(t).forEach((([t,o])=>{e.attribute(s,t,o)}))})),e.isNode(s)&&Object.entries(t).forEach((([t,o])=>{e.attribute(s,t,o)})),s):s,globalsAdd(){console.log("Surreal: Adding convenience globals to window.");let e=["$","sugar","plugins"];for(const[s,t]of Object.entries(this))e.includes(s)||(void 0===window[s]?window[s]=t:console.warn(`Surreal: "${s}()" already exists on window. Skipping to prevent overwrite.`)),e.includes(s)||(void 0===window.document[s]?window.document[s]=t:console.warn(`Surreal: "${s}()" already exists on document. Skipping to prevent overwrite.`))},isNode:e=>e instanceof HTMLElement||e instanceof SVGElement||e instanceof Document,isNodeList:e=>!!(e instanceof NodeList||Array.isArray(e)),isSelector:(e="",s=document,t=!0)=>"string"==typeof e&&(null!=s.querySelector(e)||(t&&console.log(`Surreal: "${e}" not found, ignoring.`),!1))};return e.globalsAdd(),console.log("Surreal: Loaded."),e}();function pluginEffects(e){function s(e,t=void 0,o=1e3,r=!0){let a=e;surreal.isNodeList(e)&&e.forEach((e=>{s(e,t,o)})),surreal.isNode(e)&&(async()=>{surreal.styles(e,{transform:"scale(1)",transition:`all ${o}ms ease-out`,overflow:"hidden"}),await tick(),surreal.styles(e,{transform:"scale(0.9)",opacity:"0"}),await sleep(o,e),"function"==typeof t&&t(a),r&&surreal.remove(a)})()}function t(e,s=void 0,o=1e3){let r=e;surreal.isNodeList(e)&&e.forEach((e=>{t(e,s,o)})),surreal.isNode(e)&&(async()=>{let t=e.style;surreal.styles(e,{transition:`all ${o}ms ease-in`,overflow:"hidden"}),await tick(),surreal.styles(e,{opacity:"1"}),await sleep(o,e),e.style=t,surreal.styles(e,{opacity:"1"}),"function"==typeof s&&s(r)})()}e.fadeOut=(t,o,r)=>s(e,t,o,r),e.fade_out=e.fadeOut,e.fadeIn=(s,o)=>t(e,s,o),e.fade_in=e.fadeIn}surreal.plugins.push(pluginEffects),console.log("Surreal: Added plugins.");const createElement=document.createElement.bind(document),create_element=createElement,rAF="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame,rIC="undefined"!=typeof requestIdleCallback&&requestIdleCallback;async function tick(){return await new Promise((e=>{requestAnimationFrame(e)}))}async function sleep(e,s){return await new Promise((t=>setTimeout((()=>{t(s)}),e)))}const addOnload=e=>{if("function"!=typeof window.onload)window.onload=e;else{let s=window.onload;window.onload=()=>{s(),e()}}},onloadAdd=addOnload,onload_add=addOnload,add_onload=addOnload;console.log("Surreal: Added shortcuts.");
